import React, { useState } from 'react';
import { Home, BarChart3, GraduationCap, MapPin, TrendingUp, ChevronRight } from 'lucide-react';

const App = () => {
  const [activeTab, setActiveTab] = useState('home');

  const topUniversities = [
    { name: '한국에너지공과대', amount: 184.3, region: '전남', color: 'bg-blue-600' },
    { name: '대구경북과학기술원', amount: 98.4, region: '대구', color: 'bg-blue-500' },
    { name: '한국과학기술원', amount: 95.0, region: '대전', color: 'bg-blue-400' },
    { name: '광주과학기술원', amount: 88.5, region: '광주', color: 'bg-blue-300' },
    { name: '울산과학기술원', amount: 76.4, region: '울산', color: 'bg-blue-200' },
  ];

  const categories = [
    { type: '특별법 법인', desc: '과학기술원 중심 압도적 투자', icon: <TrendingUp className="w-5 h-5" /> },
    { type: '국립대(거점)', desc: '평균 2,000~2,700만 원 선', icon: <BarChart3 className="w-5 h-5" /> },
    { type: '사립대', desc: '학교별 편차 매우 큼 (최대 2.8배)', icon: <GraduationCap className="w-5 h-5" /> },
  ];

  const renderContent = () => {
    switch (activeTab) {
      case 'home':
        return (
          <div className="space-y-6 animate-in fade-in duration-500">
            <div className="bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-8 text-white shadow-lg">
              <h2 className="text-3xl font-bold mb-2">2024 대학 교육비 리포트</h2>
              <p className="opacity-90">전국 주요 대학의 학생 1인당 교육비 투자 현황을 한눈에 확인하세요.</p>
              <button 
                onClick={() => setActiveTab('ranking')}
                className="mt-6 bg-white text-blue-600 px-6 py-2 rounded-full font-semibold flex items-center gap-2 hover:bg-opacity-90 transition-all"
              >
                상위 대학 순위 보기 <ChevronRight className="w-4 h-4" />
              </button>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              {categories.map((cat, i) => (
                <div key={i} className="bg-white p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow">
                  <div className="text-blue-600 mb-3">{cat.icon}</div>
                  <h3 className="font-bold text-gray-800">{cat.type}</h3>
                  <p className="text-sm text-gray-500 mt-1">{cat.desc}</p>
                </div>
              ))}
            </div>
          </div>
        );
      case 'ranking':
        return (
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 animate-in slide-in-from-bottom-4 duration-500">
            <h3 className="text-xl font-bold mb-6 flex items-center gap-2">
              <TrendingUp className="text-blue-600" /> 학생 1인당 교육비 TOP 5
            </h3>
            <div className="space-y-5">
              {topUniversities.map((univ, i) => (
                <div key={i} className="space-y-2">
                  <div className="flex justify-between items-end">
                    <span className="font-medium text-gray-700">{i + 1}. {univ.name} <span className="text-xs text-gray-400">({univ.region})</span></span>
                    <span className="font-bold text-blue-600">{univ.amount.toLocaleString()}백만 원</span>
                  </div>
                  <div className="w-full bg-gray-100 h-4 rounded-full overflow-hidden">
                    <div 
                      className={`${univ.color} h-full rounded-full transition-all duration-1000`} 
                      style={{ width: `${(univ.amount / 184.3) * 100}%` }}
                    ></div>
                  </div>
                </div>
              ))}
            </div>
            <p className="mt-8 text-xs text-gray-400 text-center">* 한국에너지공과대학교가 약 1.8억 원으로 전국 1위 기록</p>
          </div>
        );
      case 'analysis':
        return (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6 animate-in zoom-in-95 duration-500">
            <div className="bg-blue-50 p-6 rounded-2xl border border-blue-100">
              <h3 className="font-bold text-blue-800 mb-4 flex items-center gap-2">
                <MapPin className="w-5 h-5" /> 설립 구분별 핵심 요약
              </h3>
              <ul className="space-y-3 text-sm text-blue-900">
                <li className="flex gap-2">
                  <div className="w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"></div>
                  <span><strong>특수법인:</strong> 연구 중심 대학의 압도적 투자 규모</span>
                </li>
                <li className="flex gap-2">
                  <div className="w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"></div>
                  <span><strong>국립대:</strong> 서울대(6,302만)가 일반 국립대 대비 2배 이상</span>
                </li>
                <li className="flex gap-2">
                  <div className="w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5"></div>
                  <span><strong>교육대:</strong> 1,400~2,200만 원 사이의 안정적 분포</span>
                </li>
              </ul>
            </div>
            <div className="bg-amber-50 p-6 rounded-2xl border border-amber-100">
              <h3 className="font-bold text-amber-800 mb-4 flex items-center gap-2">
                <GraduationCap className="w-5 h-5" /> 분석 시사점
              </h3>
              <p className="text-sm text-amber-900 leading-relaxed">
                과학기술 인재 양성을 위한 국가적 투자가 특정 대학에 집중되어 있으며, 원격 교육 위주의 방송통신대는 가장 낮은 교육비를 기록했습니다. 
                학령인구 감소 시대에 대학별 재정 효율화가 중요한 과제로 부각됩니다.
              </p>
            </div>
          </div>
        );
      default:
        return null;
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 p-4 md:p-8 font-sans">
      <div className="max-w-4xl mx-auto">
        {/* Navigation Bar */}
        <nav className="flex items-center justify-between mb-8 bg-white p-2 rounded-2xl shadow-sm border border-gray-100">
          <button 
            onClick={() => setActiveTab('home')}
            className={`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'home' ? 'bg-blue-100 text-blue-600 font-bold' : 'text-gray-500 hover:bg-gray-100'}`}
          >
            <Home className="w-5 h-5" /> <span>Home</span>
          </button>
          
          <div className="flex gap-1">
            <button 
              onClick={() => setActiveTab('ranking')}
              className={`px-4 py-2 rounded-xl transition-all text-sm font-medium ${activeTab === 'ranking' ? 'bg-blue-600 text-white' : 'text-gray-500 hover:bg-gray-100'}`}
            >
              순위
            </button>
            <button 
              onClick={() => setActiveTab('analysis')}
              className={`px-4 py-2 rounded-xl transition-all text-sm font-medium ${activeTab === 'analysis' ? 'bg-blue-600 text-white' : 'text-gray-500 hover:bg-gray-100'}`}
            >
              분석
            </button>
          </div>
        </nav>

        {/* Dynamic Content Area */}
        <main>
          {renderContent()}
        </main>

        {/* Footer */}
        <footer className="mt-12 text-center text-gray-400 text-xs">
          © 2024 University Education Expense Analysis Report
        </footer>
      </div>
    </div>
  );
};

export default App;
